<div class="container" id="properties-container">
    <div class="header">
        <button class="expand" (click)="OnExpandClick($event)">üûÇ</button>
        <div class="header-label">–°–≤–æ–π—Å—Ç–≤–∞</div>
    </div>
    <div class="form" *ngIf="propertiesObject!=undefined">
        <div class="name">
            <div class="object-label" *ngIf="!rename">{{propertiesObject.name}}</div>
            <button *ngIf="!rename && !camera && !cutPlane" class="button-icon" (click)="Rename()">
                <img src="../../../assets/edit.png" alt="button-icon" width="19px" height="19px">
            </button>
            <input type="text" *ngIf="rename" [(ngModel)]="propertiesObject.name">
            <button *ngIf="rename" class="button-icon" (click)="ApplyName()">
                <img src="../../../assets/accept.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="rename" class="button-icon" (click)="DiscardName()">
                <img src="../../../assets/cancel.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="editor">
            <div class="line" *ngIf="annotation">
                <div class="param">
                    <div class="label">–¢–µ–∫—Å—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏</div>
                </div>
                <button class="button-icon" (click)="OnTextSave($event)">
                    <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
                </button>
            </div>
            <quill-editor *ngIf="annotation" (onEditorCreated)="OnEditorCreated($event)"
                (onContentChanged)="OnTextChange($event)"></quill-editor>
        </div>
        <div class="line" *ngIf="annotation">
            <div class="param">
                <div class="label">–¶–µ–ª—å</div>
                <div class="inputs">
                    <div class="target-name">{{targetName}}</div>
                </div>
            </div>
            <button *ngIf="!targetSelect" class="button-icon" (click)="SelectTarget()">
                <img src="../../../assets/cursor.png" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="targetSelect" class="button-icon" (click)="ApplyTargetSelect()">
                <img src="../../../assets/accept.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="targetSelect" class="button-icon" (click)="DiscardTargetSelect()">
                <img src="../../../assets/cancel.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="posParam">
            <div class="param">
                <div class="label">–ü–æ–∑–∏—Ü–∏—è</div>
                <div class="inputs">
                    <input type="number" class="input-number" placeholder="X" [(ngModel)]="propertiesObject.position.x"
                        (ngModelChange)="OnPositionChange($event)">
                    <input type="number" class="input-number" placeholder="Y" [(ngModel)]="propertiesObject.position.y"
                        (ngModelChange)="OnPositionChange($event)">
                    <input type="number" class="input-number" placeholder="Z" [(ngModel)]="propertiesObject.position.z"
                        (ngModelChange)="OnPositionChange($event)">
                </div>
            </div>
            <button *ngIf="!camera" class="button-icon" (click)="OnPositionChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="rotParam">
            <div class="param">
                <div class="label">–í—Ä–∞—â–µ–Ω–∏–µ</div>
                <div class="inputs">
                    <input type="number" class="input-number" placeholder="X" [(ngModel)]="propertiesObject.rotation.x"
                        (change)="OnRotationChange($event)">
                    <input type="number" class="input-number" placeholder="Y" [(ngModel)]="propertiesObject.rotation.y"
                        (change)="OnRotationChange($event)">
                    <input type="number" class="input-number" placeholder="Z" [(ngModel)]="propertiesObject.rotation.z"
                        (change)="OnRotationChange($event)">
                </div>
            </div>
            <button class="button-icon" *ngIf="!camera" (click)="OnRotationChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="opacityParam">
            <div class="param">
                <div class="label">–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</div>
                <div class="inputs">
                    <input type="range" min="0" max="1" step="0.01" class="input-range"
                        [(ngModel)]="propertiesObject.material.opacity" placeholder="0"
                        (change)="OnOpacityChange($event)">
                    <input type="number" class="input-number" min="0" step="0.01" max="1" placeholder="opacity"
                        [(ngModel)]="propertiesObject.material.opacity" (change)="OnOpacityChange($event)">
                </div>
            </div>
            <button class="button-icon" *ngIf="!camera" (click)="OnOpacityChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="cutPlane">
            <div class="param">
                <div class="label">–°–º–µ—â–µ–Ω–∏–µ</div>
                <div class="inputs">
                    <input type="range" min="-1000" max="1000" step="1" class="input-range"
                        [(ngModel)]="propertiesObject.plane.constant" placeholder="0"
                        (change)="OnConstantChange($event)">
                    <input type="number" class="input-number" min="-1000" max="1000" step="1" placeholder="offset"
                        [(ngModel)]="propertiesObject.plane.constant" (change)="OnConstantChange($event)">
                </div>
            </div>
            <button class="button-icon" *ngIf="!camera" (click)="OnConstantChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="camera">
            <div class="param">
                <div class="label">FOV</div>
                <div class="inputs">
                    <input type="range" min="10" max="170" step="1" class="input-range"
                        [(ngModel)]="propertiesObject.fov" placeholder="0" (change)="OnFOVChange($event)">
                    <input type="number" class="input-number" min="10" max="170" step="1" placeholder="opacity"
                        [(ngModel)]="propertiesObject.fov" (change)="OnFOVChange($event)">
                </div>
            </div>
        </div>
        <div class="line" *ngIf="light && !group">
            <div class="param">
                <div class="label">–¶–≤–µ—Ç</div>
                <div class="inputs">
                    <input type="color" class="input-color" [(ngModel)]="hex" (change)="OnColorChange($event)">
                </div>
            </div>
            <button class="button-icon" *ngIf="!camera" (click)="OnColorChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="light && !group">
            <div class="param">
                <div class="label">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å</div>
                <div class="inputs">
                    <input type="range" min="0" max="100" step="0.1" class="input-range"
                        [(ngModel)]="propertiesObject.intensity" placeholder="0" (change)="OnIntensityChange($event)">
                    <input type="number" class="input-number" min="0" max="100" step="0.1" placeholder="–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å"
                        [(ngModel)]="propertiesObject.intensity" (change)="OnIntensityChange($event)">
                </div>
            </div>
            <button class="button-icon" *ngIf="!camera" (click)="OnIntensityChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="axisParams">
            <div class="param">
                <div class="label">–ü–æ–∑–∏—Ü–∏—è</div>
                <div class="inputs">
                    <input type="number" class="input-number" placeholder="X" [(ngModel)]="propertiesObject.position.x">
                    <input type="number" class="input-number" placeholder="Y" [(ngModel)]="propertiesObject.position.y">
                    <input type="number" class="input-number" placeholder="Z" [(ngModel)]="propertiesObject.position.z">
                </div>
            </div>
        </div>
        <div class="line" *ngIf="axisParams">
            <div class="param">
                <div class="label">–¶–µ–ª—å</div>
                <div class="inputs">
                    <div class="target-name">{{targetName}}</div>
                </div>
            </div>
            <button *ngIf="!targetSelect" class="button-icon" (click)="SelectTarget()">
                <img src="../../../assets/cursor.png" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="targetSelect" class="button-icon" (click)="ApplyTargetSelect()">
                <img src="../../../assets/accept.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="targetSelect" class="button-icon" (click)="DiscardTargetSelect()">
                <img src="../../../assets/cancel.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="axisParams">
            <div class="param">
                <div class="label">–û–±—ä–µ–∫—Ç—ã</div>
                <div class="inputs">
                    <div class="target-name">{{targetName}}</div>
                </div>
            </div>
            <button *ngIf="!objectsSelect" class="button-icon" (click)="SelectObjects()">
                <img src="../../../assets/cursor.png" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="objectsSelect" class="button-icon" (click)="ApplyObjectsSelect()">
                <img src="../../../assets/accept.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
            <button *ngIf="objectsSelect" class="button-icon" (click)="DiscardObjectsSelect()">
                <img src="../../../assets/cancel.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="axisParams">
            <div class="param">
                <div class="label">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                <div class="inputs">
                    <input type="number" class="input-number" placeholder="X"
                        [(ngModel)]="propertiesObject.userData['direction'].x"
                        (ngModelChange)="OnDirectionChange($event)">
                    <input type="number" class="input-number" placeholder="Y"
                        [(ngModel)]="propertiesObject.userData['direction'].y"
                        (ngModelChange)="OnDirectionChange($event)">
                    <input type="number" class="input-number" placeholder="Z"
                        [(ngModel)]="propertiesObject.userData['direction'].z"
                        (ngModelChange)="OnDirectionChange($event)">
                </div>
            </div>
            <button class="button-icon" style="visibility: hidden;"></button>
        </div>
        <div class="line" *ngIf="axisParams">
            <div class="param">
                <div class="label">–£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞</div>
                <div class="inputs">
                    <input type="number" class="input-number" placeholder="X"
                        [(ngModel)]="propertiesObject.userData.angle">
                </div>
            </div>
            <button class="button-icon" *ngIf="!camera" (click)="OnAxisAngleChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="!camera && !cutPlane && propertiesObject.type!='Object3D'">
            <div class="param">
                <div class="label">–í–∏–¥–∏–º–æ—Å—Ç—å</div>
                <div class="inputs">
                    <input type="checkbox" [(ngModel)]="propertiesObject.visible" class="input-checkbox"
                        (change)="OnVisibleChange($event)">
                </div>
            </div>
            <button class="button-icon" (click)="OnVisibleChange($event)">
                <img src="../../../assets/save.png" alt="button-icon" width="19px" height="19px">
            </button>
        </div>
        <div class="line" *ngIf="cutPlane">
            <div class="param">
                <div class="label">–í–∏–¥–∏–º–æ—Å—Ç—å</div>
                <div class="inputs">
                    <input type="checkbox" (change)="ShowPlane($event)" [(ngModel)]="propertiesObject.material.visible"
                        class="input-checkbox">
                </div>
            </div>
            <button class="button-icon" style="visibility: hidden;"></button>
        </div>
        <div class="line" *ngIf="cutPlane">
            <div class="param">
                <div class="label">–û–±—Ä–∞—Ç–∏—Ç—å</div>
                <div class="inputs">
                    <input type="checkbox" class="input-checkbox" (change)="propertiesObject.plane.negate()">
                </div>
            </div>
            <button class="button-icon" style="visibility: hidden;"></button>
        </div>
        <div class="line" *ngIf="light && !ambLight && !group">
            <div class="param">
                <div class="label">–ü–æ–∫–∞–∑–∞—Ç—å —Ü–µ–ª—å</div>
                <div class="inputs">
                    <input type="checkbox" [(ngModel)]="propertiesObject.children[0].visible" class="input-checkbox">
                </div>
            </div>
            <button class="button-icon" style="visibility: hidden;"></button>
        </div>
        <div class="line" *ngIf="light && !ambLight && !group">
            <div class="param">
                <div class="label">–¢–µ–Ω–∏</div>
                <div class="inputs">
                    <input type="checkbox" [(ngModel)]="propertiesObject.castShadow" class="input-checkbox">
                </div>
            </div>
            <button class="button-icon" style="visibility: hidden;"></button>
        </div>
        <div class="line" *ngIf="light && dirLight && propertiesObject.castShadow && !group">
            <div class="param">
                <div class="label">–ü–æ–∫–∞–∑–∞—Ç—å –æ–±–ª–∞—Å—Ç—å</div>
                <div class="inputs">
                    <input type="checkbox" [(ngModel)]="propertiesObject.children[1].visible" class="input-checkbox">
                </div>
            </div>
            <button class="button-icon" style="visibility: hidden;"></button>
        </div>
        <div class="line" *ngIf="light && dirLight && propertiesObject.castShadow && !group">
            <div class="param">
                <div class="label">–®–∏—Ä–∏–Ω–∞</div>
                <div class="inputs">
                    <input type="range" min="5" max="9999999" step="1" class="input-range" [(ngModel)]="shadowWidth"
                        placeholder="0" (change)="OnShadowCameraChange($event)">
                    <input type="number" class="input-number" min="5" max="9999999" step="1" placeholder="width"
                        [(ngModel)]="shadowWidth" (change)="OnShadowCameraChange($event)">
                </div>
            </div>
        </div>
        <div class="line" *ngIf="light && dirLight && propertiesObject.castShadow && !group">
            <div class="param">
                <div class="label">–í—ã—Å–æ—Ç–∞</div>
                <div class="inputs">
                    <input type="range" min="5" max="9999999" step="1" class="input-range" [(ngModel)]="shadowHeight"
                        placeholder="0" (change)="OnShadowCameraChange($event)">
                    <input type="number" class="input-number" min="10" max="9999999" step="1" placeholder="height"
                        [(ngModel)]="shadowHeight" (change)="OnShadowCameraChange($event)">
                </div>
            </div>
        </div>
        <div class="line" *ngIf="light && dirLight && propertiesObject.castShadow && !group">
            <div class="param">
                <div class="label">–ì–ª—É–±–∏–Ω–∞</div>
                <div class="inputs">
                    <input type="range" min="10" max="9999999" step="1" class="input-range" [(ngModel)]="shadowDist"
                        placeholder="0" (change)="OnShadowCameraChange($event)">
                    <input type="number" class="input-number" min="10" max="9999999" step="1" placeholder="opacity"
                        [(ngModel)]="shadowDist" (change)="OnShadowCameraChange($event)">
                </div>
            </div>
        </div>
        <div class="controls" *ngIf="camera && !group">
            <button (click)="OnCameraChange($event)">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é</button>
            <button (click)="OnCameraRotation($event)">–ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è</button>
        </div>
        <div class="controls" *ngIf="AnimationService.selKeyframe.length!=0">
            <button class="delete" (click)="DeleteKeyframe($event)">–£–¥–∞–ª–∏—Ç—å –∫–ª—é—á–µ–≤–æ–π
                –∫–∞–¥—Ä</button>
        </div>
        <div class="controls" *ngIf="AnimationService.selAction.length!=0">
            <button class="delete" (click)="DeleteAction($event)">–£–¥–∞–ª–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ</button>
        </div>
        <div class="controls" *ngIf="group">
            <button (click)="InitExplode()">–†–∞–∑–ª–µ—Ç –¥–µ—Ç–∞–ª–µ–π</button>
        </div>
        <div class="line" *ngIf="editExplode">
            <div class="param">
                <div class="label">–†–∞–∑–ª–µ—Ç</div>
                <div class="inputs">
                    <input type="range" min="0" max="1000" step="1" class="input-range" placeholder="0"
                        [(ngModel)]="explodeOffset" (ngModelChange)="OnExplodeChange($event)">
                    <input type="number" class="input-number" min="0" max="1000" step="1" placeholder="explode"
                        [(ngModel)]="explodeOffset" (ngModelChange)="OnExplodeChange($event)">
                </div>
            </div>
            <button class="button-icon" (click)="ApplyExplode()">
                <img src="../../../assets/accept.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
            <button class="button-icon" (click)="DiscardExplode()">
                <img src="../../../assets/cancel.png" class="no-filter" alt="button-icon" width="19px" height="19px">
            </button>
        </div>

        <div class="controls" *ngIf="propertiesObject.material!=undefined && !cutPlane">
            <button (click)="editMaterial=!editMaterial">–ò–∑–º–µ–Ω–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª</button>
        </div>
        <div *ngIf="editMaterial">
            <div class="line">
                <div class="param">
                    <div class="label">–¶–≤–µ—Ç</div>
                    <div class="inputs">
                        <input type="color" class="input-color" [(ngModel)]="hex" (change)="MatColorSet($event)">
                    </div>
                </div>
            </div>
            <div class="line">
                <div class="param">
                    <div class="label">–®–µ—Ä–æ—Ö–æ–≤–∞—Ç–æ—Å—Ç—å</div>
                    <div class="inputs">
                        <input type="range" min="0" max="1" step="0.01" class="input-range"
                            [(ngModel)]="propertiesObject.material.roughness" placeholder="roughness"
                            (change)="MatRoughnessSet($event)">
                        <input type="number" class="input-number" [(ngModel)]="propertiesObject.material.roughness"
                            min="0" max="1" step="0.01" placeholder="roughness" (change)="MatRoughnessSet($event)">
                    </div>
                </div>
            </div>
            <div class="line">
                <div class="param">
                    <div class="label">–ú–µ—Ç–∞–ª–ª–∏—á–Ω–æ—Å—Ç—å</div>
                    <div class="inputs">
                        <input type="range" min="0" max="1" step="0.01" class="input-range"
                            [(ngModel)]="propertiesObject.material.metalness" placeholder="metalness"
                            (change)="MatMetalnessSet($event)">
                        <input type="number" class="input-number" [(ngModel)]="propertiesObject.material.metalness"
                            min="0" max="1" step="0.01" placeholder="metalness" (change)="MatMetalnessSet($event)">
                    </div>
                </div>
            </div>
            <div class="line">
                <div class="param">
                    <div class="label">–¶–≤–µ—Ç –≤–µ—Ä—à–∏–Ω</div>
                    <div class="inputs">
                        <input type="checkbox" [(ngModel)]="propertiesObject.material.vertexColors"
                            (change)="MatVertColorSet($event)" class="input-checkbox">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>